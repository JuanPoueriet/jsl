<header class="header">
  <jsl-top-bar></jsl-top-bar>
  <nav class="header__nav container">
    <a [routerLink]="[currentLang, 'home']" class="header__logo" (click)="closeMobileMenu()">
      JSL Technology
    </a>

    <ul class="header__nav-links">
      <li>
        <a
          [routerLink]="[currentLang, 'home']"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="closeMobileMenu()"
        >
          {{ 'HEADER.HOME' | translate }}
        </a>
      </li>

      <li class="dropdown" [class.open]="openDropdown === 'solutions'">
        <button class="dropdown-toggle" (click)="toggleDropdown('solutions', $event)">
          {{ 'HEADER.SERVICES' | translate }}
          <lucide-icon name="ChevronDown"></lucide-icon>
        </button>
        <div class="dropdown-menu" [class.open]="openDropdown === 'solutions'">
          <a
            [routerLink]="[currentLang, 'solutions']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.SERVICES' | translate }}</a
          >
          <a
            [routerLink]="[currentLang, 'products']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.PRODUCTS' | translate }}</a
          >
          <a
            [routerLink]="[currentLang, 'projects']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.PROJECTS' | translate }}</a
          >
          <a
            [routerLink]="[currentLang, 'industries']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.INDUSTRIES' | translate }}</a
          >
        </div>
      </li>

      <li class="dropdown" [class.open]="openDropdown === 'company'">
        <button class="dropdown-toggle" (click)="toggleDropdown('company', $event)">
          {{ 'HEADER.ABOUT' | translate }}
          <lucide-icon name="ChevronDown"></lucide-icon>
        </button>
        <div class="dropdown-menu" [class.open]="openDropdown === 'company'">
          <a
            [routerLink]="[currentLang, 'about-us']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.ABOUT' | translate }}</a
          >
          <a
            [routerLink]="[currentLang, 'process']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.PROCESS' | translate }}</a
          >
          <a
            [routerLink]="[currentLang, 'tech-stack']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.TECH_STACK' | translate }}</a
          >
        </div>
      </li>

      <li class="dropdown" [class.open]="openDropdown === 'resources'">
        <button class="dropdown-toggle" (click)="toggleDropdown('resources', $event)">
          {{ 'FOOTER.RESOURCES' | translate }}
          <lucide-icon name="ChevronDown"></lucide-icon>
        </button>
        <div class="dropdown-menu" [class.open]="openDropdown === 'resources'">
          <a
            [routerLink]="[currentLang, 'blog']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.BLOG' | translate }}</a
          >
          <a
            [routerLink]="[currentLang, 'faq']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.FAQ' | translate }}</a
          >
        </div>
      </li>

      <li class="dropdown" [class.open]="openDropdown === 'contact'">
        <button class="dropdown-toggle" (click)="toggleDropdown('contact', $event)">
          {{ 'HEADER.CONTACT' | translate }}
          <lucide-icon name="ChevronDown"></lucide-icon>
        </button>
        <div class="dropdown-menu" [class.open]="openDropdown === 'contact'">
          <a
            [routerLink]="[currentLang, 'contact']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.CONTACT' | translate }}</a
          >
          <a
            [routerLink]="[currentLang, 'careers']"
            routerLinkActive="active"
            (click)="closeMobileMenu()"
            >{{ 'HEADER.CAREERS' | translate }}</a
          >
        </div>
      </li>
    </ul>

    <div class="header__controls">
      <jsl-language-switcher class="header__mobile-lang-switcher"></jsl-language-switcher>
      <button class="header__mobile-toggle" (click)="toggleMobileMenu()" aria-label="Toggle menu">
        @if (!isMobileMenuOpen) {
        <lucide-icon name="Menu"></lucide-icon>
        } @else {
        <lucide-icon name="X"></lucide-icon>
        }
      </button>
    </div>
  </nav>

  @if (isMobileMenuOpen) {
  <ul class="header__nav-links-mobile" [class.open]="isMobileMenuOpen">
    <li>
      <a
        [routerLink]="[currentLang, 'home']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.HOME' | translate }}</a
      >
    </li>

    <li class="mobile-menu-header">{{ 'HEADER.SERVICES' | translate }}</li>
    <li>
      <a
        [routerLink]="[currentLang, 'solutions']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.SERVICES' | translate }}</a
      >
    </li>
    <li>
      <a
        [routerLink]="[currentLang, 'products']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.PRODUCTS' | translate }}</a
      >
    </li>
    <li>
      <a
        [routerLink]="[currentLang, 'projects']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.PROJECTS' | translate }}</a
      >
    </li>
    <li>
      <a
        [routerLink]="[currentLang, 'industries']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.INDUSTRIES' | translate }}</a
      >
    </li>

    <li class="mobile-menu-header">{{ 'HEADER.ABOUT' | translate }}</li>
    <li>
      <a
        [routerLink]="[currentLang, 'about-us']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.ABOUT' | translate }}</a
      >
    </li>
    <li>
      <a
        [routerLink]="[currentLang, 'process']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.PROCESS' | translate }}</a
      >
    </li>
    <li>
      <a
        [routerLink]="[currentLang, 'tech-stack']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.TECH_STACK' | translate }}</a
      >
    </li>

    <li class="mobile-menu-header">{{ 'FOOTER.RESOURCES' | translate }}</li>
    <li>
      <a [routerLink]="[currentLang, 'blog']" routerLinkActive="active" (click)="closeMobileMenu()">{{
        'HEADER.BLOG' | translate
      }}</a>
    </li>
    <li>
      <a [routerLink]="[currentLang, 'faq']" routerLinkActive="active" (click)="closeMobileMenu()">{{
        'HEADER.FAQ' | translate
      }}</a>
    </li>

    <li class="mobile-menu-header">{{ 'HEADER.CONTACT' | translate }}</li>
    <li>
      <a
        [routerLink]="[currentLang, 'contact']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.CONTACT' | translate }}</a
      >
    </li>
    <li>
      <a
        [routerLink]="[currentLang, 'careers']"
        routerLinkActive="active"
        (click)="closeMobileMenu()"
        >{{ 'HEADER.CAREERS' | translate }}</a
      >
    </li>
  </ul>
  }
</header>